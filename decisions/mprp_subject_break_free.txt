country_decisions = {
	
	subject_break_free = {
		
		potential = {
			num_of_cities >= 1
			is_subject = yes
			overlord = {
				war = yes
			}
		}

		allow = {
			overlord ={
				save_temporary_scope_as = overlordscope
				any_current_war = {
					war_score = {
						target = scope:overlordscope
						value < 0
					}	
				}
			}
			opinion = {
				target = overlord
				value < 10
			}
			is_ai = no   
			capital_scope ={
				has_siege = no
				controller = root
			}

		}
		
		effect = {
			overlord = {
				save_scope_as = overlordscope
			}
			hidden_effect = {
	            every_current_war = {
	                limit = {
	                    any_war_participant = {this = scope:overlordscope} 
	                }
	                remove_from_war = ROOT
	            }
	        }
	        scope:overlordscope ={
				add_opinion = {
					modifier = subject_broke_free_mprp #subject_broke_free_mprp
					target = root
				}
			}
		}
	}

	subject_break_free_war = { #                   
		
		potential = {
			num_of_cities >= 1
			is_subject = yes

			#overlord = {
			#	war = yes 
			#}
		}

		allow = {
			overlord ={
				save_temporary_scope_as = overlordscope
				#any_current_war = {
				#	war_score = {
				#		target = scope:overlordscope
				#		value < -10
				#	}	
				#}
			}
			#opinion = {
			#	target = overlord
			#	value < 0
			#}
			is_ai = no 
			capital_scope ={
				OR = {
					has_siege = no
					is_previous_controller = no 	
				}
			}
		}
		
		effect = {
			overlord = {
				save_scope_as = overlordscope
			}
			hidden_effect = {
	            every_current_war = {
	                limit = {
	                    any_war_participant = {this = scope:overlordscope} 
	                }
	                remove_from_war = ROOT
	            }
	        }
	        scope:overlordscope ={
				add_opinion = {
					modifier = subject_broke_free_mprp #subject_broke_free_mprp
					target = root
				}
			}
			declare_war_with_wargoal = {
				war_goal = independence_wargoal
				province = root.capital_scope
				target = scope:overlordscope	
			}
		}
	}

	subject_submit_to_new_overlord = {
		
		potential = {
			num_of_cities >= 1
			is_subject = yes
			war = yes
	        capital_scope = {
	        	or = {
		        	has_siege = yes
		        	is_previous_controller != ROOT
	        	}
	        }
		}

		allow = {
			overlord = {
				save_temporary_scope_as = overlordscope
				any_current_war = {
					war_score = {
						target = scope:overlordscope
						value < -20
					}	
				}
			}
			is_ai = no 
			root.capital_scope = {
				siege = {
		        	siege_controller = {
		        		nor= {
		        			this = root
		        			this = overlord
		        		}
		        	}
	        	}
			}

		}
		
		effect = {
			overlord = {
				save_scope_as = overlordscope
			}
			hidden_effect = {
	            every_current_war = {
	                limit = {
	                    any_war_participant = {this = scope:overlordscope} 
	                }
	                remove_from_war = ROOT
	            }
	        }
	        scope:overlordscope ={
				add_opinion = {
					modifier = subject_broke_free_mprp #subject_broke_free_mprp
					target = root
				}
			}
	        capital_scope = {
	        	siege = {
		        	siege_controller = {
		        		save_temporary_scope_as = new_overlord
		        	}
	        	}
	        }
	        make_subject = {
	        	target = scope:new_overlord
	        	type = player_client_state
	        }
	        #mprp_new_overlord_effect = { # add to  war on other side???
	        #	NEW_OVERLORD = scope:new_overlord
	        #	SUBJECT = root
	        #	SUBJECT_TYPE = player_client_state
	        #}
		}
	}
}

